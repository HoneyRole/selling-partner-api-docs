# Selling Partner API Sample code for Messaging and Solicitations 

This Sample code provides classes to use with the Selling Partner APIs for Messaging and Solicitations. It is intended for use with the Selling Partner API Client Libraries generated by [Swagger Codegen](https://swagger.io/tools/swagger-codegen/).

Use or Reference this code in order to:
1. Get the MD5 hash value of the content to be submitted to the upload destination in the Messaging API  
2. Upload data to a destination using the Uploads API.
3. Make API calls to the Messaging and Solicitations API endpoints.

## Resources 

To use this library you will need to integrate it with one or more of the following packages. Messaging API requires integrating with Uploads API.

##### Selling Partner API Authentication/Authorization Library

This package is required because it handles the Selling Partner API credentials required by the APIs. You can find it on our GitHub Repository [here](https://github.com/amzn/amazon-marketplace-api-sdk/tree/master/clients/sellingpartner-api-aa-java). 

##### Selling Partner API for Messaging

The JSON file can be obtained [here](https://github.com/amzn/amazon-marketplace-api-sdk/tree/master/Messaging%20API).

##### Selling Partner API for Uploads

The JSON file can be obtained [here](https://github.com/amzn/amazon-marketplace-api-sdk/tree/master/Uploads%20API).

##### Selling Partner API for Solicitations

The JSON file can be obtained [here](https://github.com/amzn/amazon-marketplace-api-sdk/tree/master/Solicitations%20API).

## Building

#### Building the Client Libraries

- Build the client library for each of the API model JSON files using Swagger Codegen or One JSON file by aggregating Messaging, Uploads and Solicitations JSON files. For each file:

*For example:*

    java -jar C:\SwaggerToCL\swagger-codegen-cli.jar generate -i C:\SwaggerToCL\Messaging.json -l java -t [path to clients\sellingpartner-apiaa-java directory]/resources/swagger-codegen/templates/ -o C:\SwaggerToCL\Messaging_JavaCL

#### Integrating the Authentication/Authorization Library via Maven

1. Build the Authentication/Authorization Library and add it as a dependency of the SDKs:

    Navigate to the **clients/sellingpartner-api-aa-java** folder and run:
    
        mvn package 
    
    This generates a folder named "target". In this folder is a JAR file named **sellingpartnerapi-aa-java-1.0-jar-with-dependencies.jar** (or something similar) and all of the required dependencies.

2. Install the JAR file in your local Maven repository:

    *For example:*
    
        mvn install:install-file -Dfile=[path to JAR file in "target" folder] -DgroupId=com.amazon.sellingpartnerapi -DartifactId=sellingpartnerapi-aajava -Dversion=1.0 -Dpackaging=jar
    
    Keep track of the *groupId*, *artifactId*, and *version* values (which can also be found near the top of the **pom.xml** file in the **clients/sellingpartner-api-aa-java** folder) because you will use them in the steps to follow. 

3. Add a dependency on the AA library in the **pom.xml** of each client library.

    *For example:*
    
    ```
    <dependency>
        <groupId>com.amazon.sellingpartnerapi</groupId>
        <artifactId>sellingpartnerapi-aa-java</artifactId>
        <version>1.0</version>
    </dependency>
    ```
4. Build each client library with:

    ```
    mvn package
    ```
5. Navigate to the **SellingPartnerApiMessagingUploadsSolicitationsSampleCode** folder and add the files to your project

6. Add credentials and endpoints details to **SellingPartnerCredentialsConfig** class and run the samples.

## License
Swagger Codegen templates are subject to the [Swagger Codegen License](https://github.com/swagger-api/swagger-codegen#license).

All other work licensed as follows:

Copyright Amazon.com Inc. or its affiliates.

All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this library except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
